{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-3">Home Page</h1>
  <p class="lead">Welcome, <strong>{{ user.get_username }}</strong>!</p>
  
  <h3 class="mt-4">Your Tasks</h3>
  {% if user.workers.all %}
    <ul class="list-group">
      {% for task in user.workers.all %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <a href="/tasks/{{ task.id }}" class="fw-bold">{{ task.name }}</a>
            <p class="mb-1 text-muted">{{ task.description }}</p>
            <small class="text-danger">Deadline: {{ task.deadline }}</small>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-muted">You have no tasks assigned.</p>
  {% endif %}

  <h3 class="mt-5">Dynamic Content</h3>
  <p class="mb-2">At this moment we have:</p>
  <ul class="list-group">
    <li class="list-group-item"><strong>Tasks:</strong> {{ num_task }}</li>
    <li class="list-group-item"><strong>Workers:</strong> {{ num_worker }}</li>
    <li class="list-group-item"><strong>Free workers:</strong> {{ num_free_workers }}</li>
    <li class="list-group-item"><strong>Projects:</strong> {{ num_project }}</li>
    <li class="list-group-item"><strong>Teams:</strong> {{ num_teams }}</li>
  </ul>
</div>
{% endblock %}
